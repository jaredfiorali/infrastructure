name: home-assistant
namespace: home-assistant
deployment:
  enabled: true
podAnnotations:
  diun.enable: "true"
image:
  repository: homeassistant/home-assistant
  tag: latest@sha256:5d510569a2ceaa2fa8f8a34b91bddd36f5f7f03e4cb23e942f245e4a5a98bbef
containerPorts:
- containerPort: 8123
  name: home-assistant
  protocol: TCP
- containerPort: 5353
  name: homekit-udp
  protocol: UDP
- containerPort: 21063
  name: homekit-tcp
  protocol: TCP
resources:
  limits:
    cpu: 1000m
    memory: 2Gi
  requests:
    cpu: 500m
    memory: 1Gi
probes:
  httpGet:
    path: /
    port: 8123
service:
  enabled: true
  ports:
  - name: home-assistant
    port: 8123
    protocol: TCP
    targetPort: 8123
  - port: 5353
    name: homekit-udp
    protocol: UDP
    targetPort: 5353
  - port: 21063
    name: homekit-tcp
    protocol: TCP
    targetPort: 21063
ingress:
  enabled: true
  port: 8123
hostNetwork: true
volumeMounts:
- name: home-assistant-persistent-storage
  mountPath: /config
- name: home-assistant-configmap
  mountPath: /config/configuration.yaml
  subPath: configuration.yaml
  readOnly: true
volumes:
- name: home-assistant-persistent-storage
  persistentVolumeClaim:
    claimName: home-assistant
- name: home-assistant-configmap
  configMap:
    name: home-assistant-configmap
    defaultMode: 0777
